<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Demo PulseTrack</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center p-8">
  <div class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-lg text-center">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">üöÄ PulseTrack SDK Demo</h1>
    <p class="text-gray-600 mb-8">Usa los botones para probar las funciones principales</p>

    <div class="flex flex-col gap-3">
     <h2>RRWeb Recording</h2>
      <button id="openNPS" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 rounded-lg transition">‚ñ∂Ô∏è Abrir NPS</button>
    
      <h1 id="changetext" data-editor-id="changetext">texto a cambiar</h1>

      <h2>RRWeb Recording</h2>
      <button id="btnStartRecording" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 rounded-lg transition">‚ñ∂Ô∏è Iniciar grabaci√≥n</button>
      <button id="btnPauseRecording" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 rounded-lg transition">‚è∏Ô∏è Pausar grabaci√≥n</button>
      <button id="btnStopRecording" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-3 rounded-lg transition">‚èπÔ∏è Detener y enviar</button>
      <button id="btnShowEvents" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-lg transition">üì¶ Ver eventos acumulados</button>

      <h2>Errores</h2>
      <button id="btnError" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-3 rounded-lg transition">üî• Lanzar error manual</button>
      <button id="btnConsole" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 rounded-lg transition">‚ö†Ô∏è Lanzar console.error</button>
      <button id="btnPromise" class="bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition">üåÄ Lanzar error en promesa</button>

      <h2>Testing</h2>
      <button id="btnChange">Cambiar contenido</button>
    </div>

    

    <p class="text-sm text-gray-400 mt-6">Abre la consola del navegador para ver los logs.</p>
  </div>

  <!-- Importa el bundle UMD -->
  
<script type="module">
  import { NPS  } from './dist/nps.js';

  const myNps = new NPS({
    projectId: "mi-proyecto-123",
    question: "¬øQu√© tan probable es que nos recomiendes?",
    themeColor: "#f59e0b",
    position: "bottom-center",
    autoShow: true,
    delay: 1000
  });

  document.getElementById("openNPS").onclick = () => myNps.open();
</script>

<script type="module">
  import { VariantsManager } from './dist/Variants.js';

  const manager = new VariantsManager();
  manager.init(); // ‚ö°Ô∏è asigna IDs autom√°ticamente
  manager.applyVariation('changetext', {
      html: '<span style="color: red">¬°Hola mundo!</span>'
    });
</script>

<!-- <script type="module">
  import { chat as initChatbot } from './dist/chat.js';

  const chat = new initChatbot({
    projectId: 'demo-001',
    themeColor: '#f59e0b',
    avatarUrl: 'https://cdn-icons-png.flaticon.com/512/4712/4712100.png',
    userAvatarUrl: 'https://cdn-icons-png.flaticon.com/512/4140/4140048.png',
    botName: 'ChikaviBot',
    placeholder: 'Escribe un mensaje...',
    position: 'bottom-left',
    poweredBy: 'PulseTrack',
    autoOpen: true,
  });

  chat.init();

  </script> -->



  <script type="module">

    import { survey as initSurvey } from './dist/surveys.js';


    const survey = new initSurvey({
      projectId: 'demo-001',
      question: '¬øQu√© tan probable es que nos recomiendes?',
      options: ['1','2','3','4','5'],
      themeColor: '#f59e0b',
      position: 'right',
      autoShow: false,
      buttonText: 'Feedback'
    });

    survey.init();

  </script>


  <script type="module">
    import { Announcement } from './dist/announcement.js';

    const ann = new Announcement({
      projectId: '12345',
      message: 'Este es un anuncio importante para todos los usuarios!',
      linkUrl: 'https://www.google.com',
      themeColor: '#17202F',
      autoShow: true,
     // duration: 5000, // 5 segundos
      dismissible: true
    });

          // type: 'warning',


    ann.init();
  </script>

<!-- <script type="module">
    import { Session } from './dist/session.js';
    console.log('Iniciando TrackerManager...');

    const tracker = new Session({
      userId: 'usuario-de-prueba-001'
    });

    console.log('TrackerManager inicializado:', tracker);
    window.myTracker = tracker;
  </script> -->

</body>
</html>
